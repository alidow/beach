@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('./fonts/JetBrainsMono-Regular.woff2') format('woff2');
}

@font-face {
  font-family: 'JetBrains Mono';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('./fonts/JetBrainsMono-Bold.woff2') format('woff2');
}

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
    --font-sans: 'Inter', 'SF Pro Text', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    --font-mono: 'JetBrains Mono', 'SFMono-Regular', 'Menlo', 'Consolas', monospace;
    --background: 222.2 84% 6%;
    --foreground: 210 40% 96%;
    --muted: 215 27% 17%;
    --muted-foreground: 217 15% 65%;
    --popover: 222.2 84% 8%;
    --popover-foreground: 210 40% 96%;
    --card: 222.2 72% 7.5%;
    --card-foreground: 210 40% 96%;
    --border: 219 32% 22%;
    --border-glow: 199 85% 60%;
    --input: 219 32% 22%;
    --ring: 199 89% 48%;
    --accent: 199 89% 48%;
    --accent-foreground: 210 40% 96%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 96%;
    --success: 153 60% 45%;
    --success-foreground: 159 77% 95%;
    --radius: 0.9rem;
    --terminal-frame: 219 46% 11%;
    --terminal-bezel: 218 58% 12.5%;
    --terminal-screen: 221 47% 6%;
    --terminal-glow: 199 89% 36%;
  }

  body {
    margin: 0;
    min-height: 100vh;
    font-family: var(--font-sans);
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    background-image: radial-gradient(circle at top, hsl(var(--terminal-glow)) 0%, transparent 55%),
      linear-gradient(180deg, rgba(3, 8, 19, 0.85), rgba(2, 4, 8, 0.92));
  }

  input,
  button,
  textarea {
    font: inherit;
  }

  .terminal-cursor {
    animation: caret-blink 1.1s steps(2, start) infinite;
  }
}

@layer components {
  .beach-terminal {
    text-rendering: optimizeLegibility;
    font-feature-settings: 'liga' 0, 'calt' 0;
    background-color: hsl(var(--terminal-screen));
    color: #d5d9e0;
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04), inset 0 24px 48px -28px rgba(7, 11, 20, 0.8);
    caret-color: transparent;
  }

  .beach-terminal::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  .beach-terminal::-webkit-scrollbar-track {
    background: rgba(14, 18, 28, 0.55);
  }

  .beach-terminal::-webkit-scrollbar-thumb {
    background: rgba(69, 92, 128, 0.6);
    border-radius: 9999px;
    border: 2px solid rgba(18, 23, 34, 0.85);
  }

  .beach-terminal::-webkit-scrollbar-thumb:hover {
    background: rgba(87, 115, 158, 0.72);
  }

  .beach-terminal ::selection {
    background: rgba(58, 150, 221, 0.35);
    color: #f8fafc;
  }

  .xterm-row {
    min-height: var(--beach-terminal-line-height, 1.4rem);
    line-height: var(--beach-terminal-line-height, 1.4rem);
    letter-spacing: 0;
    font-kerning: none;
    word-spacing: 0;
    white-space: nowrap;
  }

  .xterm-row span {
    display: inline-block;
    min-width: var(--beach-terminal-cell-width, 0.6em);
    width: var(--beach-terminal-cell-width, 0.6em);
  }

  .xterm-row span[data-box-vertical] {
    position: relative;
  }

  .xterm-row span[data-box-vertical]::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    width: max(1px, calc(var(--beach-terminal-cell-width, 0.6em) * 0.18));
    transform: translateX(-50%);
    background-color: currentColor;
    border-radius: 9999px;
    pointer-events: none;
  }

  .xterm-row span[data-predicted='true'] {
    text-decoration: none;
  }

  .xterm-row span[data-predicted='true'][data-predicted-underline='true'] {
    text-decoration-line: underline;
    text-decoration-style: solid;
  }
}

@layer utilities {
  .glass-border {
    box-shadow: inset 0 0 0 1px hsla(var(--border) / 0.4);
  }
}
